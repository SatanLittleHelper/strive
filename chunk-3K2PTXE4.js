import{a as O,b as P,c as k,d as B,e as I}from"./chunk-XIOH7GRU.js";import{Aa as V,H as v,K as s,Kc as E,L as p,La as A,O as b,S as w,Ta as M,X as c,Z as g,a as x,ca as h,ga as C,ka as y,na as l,oa as o,qb as D,ta as _,va as d,wa as r,xa as T,ya as R,za as u}from"./chunk-6RIHNTJ3.js";var N=["*"],f=class e{title=w.required();static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["app-step"]],inputs:{title:[1,"title"]},ngContentSelectors:N,decls:4,vars:1,consts:[[1,"step"],[1,"step__title"]],template:function(t,i){t&1&&(T(),l(0,"div",0)(1,"h2",1),u(2),o(),R(3),o()),t&2&&(c(2),V(i.title()))},styles:[".step__title[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.25rem;font-weight:600;color:var(--tui-text-01)}"],changeDetection:0})};function j(e,a){e&1&&(l(0,"div",3)(1,"p"),u(2,"Calculating calories..."),o()())}function z(e,a){if(e&1){let t=_();l(0,"app-step",6)(1,"app-basic-data-form",9),d("dataSubmitted",function(n){s(t);let m=r(2);return p(m.onBasicDataSubmitted(n))})("dataChanged",function(){s(t);let n=r(2);return p(n.onDataChanged())}),o()()}if(e&2){let t=r(2);c(),C("initialData",t.basicData())}}function G(e,a){if(e&1){let t=_();l(0,"app-step",7)(1,"app-activity-goal-form",9),d("dataSubmitted",function(n){s(t);let m=r(2);return p(m.onActivityDataSubmitted(n))})("dataChanged",function(){s(t);let n=r(2);return p(n.onDataChanged())}),o()()}if(e&2){let t=r(2);c(),C("initialData",t.activityData())}}function U(e,a){if(e&1){let t=_();l(0,"app-step",8)(1,"app-results-display",10),d("recalculate",function(){s(t);let n=r(2);return p(n.onRecalculate())}),o()()}if(e&2){let t=r(2);c(),C("results",t.caloriesResults())}}function q(e,a){if(e&1){let t=_();l(0,"app-step-navigation",4),d("stepClick",function(n){s(t);let m=r();return p(m.onTabClick(n))}),o(),l(1,"div",5),h(2,z,2,1,"app-step",6)(3,G,2,1,"app-step",7)(4,U,2,1,"app-step",8),o()}if(e&2){let t,i=r();C("steps",i.stepsConfig())("activeStepIndex",i.currentStep()),c(2),y((t=i.currentStep())===0?2:t===1?3:t===2?4:-1)}}var S=class e{calorieService=v(O);formStateService=v(P);isLoading=this.calorieService.isLoading;caloriesResults=this.calorieService.caloriesResults;currentStep=this.formStateService.currentStep;basicData=this.formStateService.basicData;activityData=this.formStateService.activityData;hasDataChanges=this.formStateService.hasDataChanges;stepsConfig=A(()=>[{title:"Basic Information"},{title:"Activity & Goal",disabled:this.formStateService.isActivityTabDisabled()},{title:"Results",disabled:this.formStateService.isResultsTabDisabled()}]);constructor(){this.calorieService.fetchCaloriesResult().pipe(D()).subscribe()}onBasicDataSubmitted(a){this.formStateService.setBasicData(a)}onDataChanged(){this.formStateService.markDataAsChanged()}onActivityDataSubmitted(a){this.formStateService.setActivityData(a);let t=x(x({},this.basicData()),a);this.calorieService.fetchCalculateCalories(t).pipe(D(v(b))).subscribe(()=>{this.formStateService.setCurrentStep(2)})}onRecalculate(){this.formStateService.resetForm()}onTabClick(a){this.formStateService.setCurrentStep(a)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=g({type:e,selectors:[["app-calorie-calculator"]],decls:6,vars:1,consts:[[1,"calorie-calculator"],[1,"calorie-calculator__container"],[1,"calorie-calculator__title"],[1,"calorie-calculator__loading"],[3,"stepClick","steps","activeStepIndex"],[1,"calorie-calculator__content"],["title","Basic Information"],["title","Activity Level & Goal"],["title","Your Results"],[3,"dataSubmitted","dataChanged","initialData"],[3,"recalculate","results"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"Calorie Calculator"),o(),h(4,j,3,0,"div",3)(5,q,5,3),o()()),t&2&&(c(4),y(i.isLoading()?4:5))},dependencies:[M,E,f,k,B,I],styles:[".calorie-calculator[_ngcontent-%COMP%]{min-height:100vh;background:var(--tui-base-01)}.calorie-calculator__container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.calorie-calculator__title[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:2rem;font-weight:600;color:var(--tui-text-01);text-align:center}.calorie-calculator__loading[_ngcontent-%COMP%]{padding:3rem;color:var(--tui-text-02);text-align:center}.calorie-calculator__tabs[_ngcontent-%COMP%]{margin-bottom:2rem}.calorie-calculator__content[_ngcontent-%COMP%]{padding:2rem;border-radius:1rem;background:var(--tui-base-02)}.calorie-calculator__step-title[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.25rem;font-weight:500;color:var(--tui-text-01)}"],changeDetection:0})};var ct=[{path:"",component:S,title:"Calorie Calculator"}];export{ct as CALORIE_CALCULATOR_ROUTES,S as CalorieCalculatorComponent};
