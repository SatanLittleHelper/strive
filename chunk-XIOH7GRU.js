import{$a as K,$b as B,Ac as Qe,B as he,Bc as et,Ca as ke,Cc as q,E as G,Ec as tt,Fc as nt,Gc as ae,H as V,Hc as Z,Ic as it,Jc as rt,K as ve,Ka as De,Kb as We,L as be,La as E,Lc as le,M as Pe,Ma as Ee,Ob as ze,R as w,S as j,T as C,X as b,Xb as se,Ya as Ge,Yb as Ye,Z as F,Za as S,_ as Te,_a as J,a as I,aa as Oe,ab as Q,b as L,ba as Le,bb as T,c as pe,ca as _e,cb as ee,db as te,eb as ne,fa as Ve,fb as ie,fc as qe,ga as v,gb as re,ib as je,j as fe,jb as Be,ka as Fe,kb as Se,l as ge,na as f,oa as h,ob as oe,pa as N,pb as Ce,qb as Y,rb as He,rc as Ze,sb as Ue,sc as Xe,ta as ye,tc as Je,u as we,ua as $e,va as P,wa as xe,za as D,zc as Ke}from"./chunk-6RIHNTJ3.js";var ot={MALE:{value:"male",label:"Male"},FEMALE:{value:"female",label:"Female"}},ce={SEDENTARY:{value:"sedentary",label:"Sedentary",description:"Little or no exercise",multiplier:1.2},LIGHTLY_ACTIVE:{value:"lightly_active",label:"Lightly Active",description:"Light exercise 1-3 days/week",multiplier:1.375},MODERATELY_ACTIVE:{value:"moderately_active",label:"Moderately Active",description:"Moderate exercise 3-5 days/week",multiplier:1.55},VERY_ACTIVE:{value:"very_active",label:"Very Active",description:"Hard exercise 6-7 days/week",multiplier:1.725},EXTREMELY_ACTIVE:{value:"extremely_active",label:"Extremely Active",description:"Very hard exercise, physical job",multiplier:1.9}},ue={LOSE_WEIGHT:{value:"lose_weight",label:"Lose Weight",description:"Create a calorie deficit",percentageModifier:-20},MAINTAIN_WEIGHT:{value:"maintain_weight",label:"Maintain Weight",description:"Keep current weight",percentageModifier:0},GAIN_WEIGHT:{value:"gain_weight",label:"Gain Weight",description:"Create a calorie surplus",percentageModifier:15}};var de=class t{calculateCalories(n){return fe(new Promise(e=>{setTimeout(()=>{let r=this.calculateBMRMifflin(n),i=this.calculateTDEE(r,n.activityLevel),s=this.calculateTargetCalories(i,n.goal),o={bmr:Math.round(r),tdee:i,targetCalories:s,formula:"mifflin"};this.saveCalculation(n,o),e(o)},100)}))}getCaloriesResult(){return fe(new Promise(n=>{setTimeout(()=>{let e=localStorage.getItem("calorie_calculation");if(e)try{n(JSON.parse(e))}catch{n(null)}else n(null)},50)}))}calculateBMRMifflin(n){let{gender:e,age:r,height:i,weight:s}=n,o=10*s+6.25*i-5*r;return e==="male"?o+5:o-161}calculateTDEE(n,e){let i=Object.values(ce).find(s=>s.value===e)?.multiplier??1.2;return Math.round(n*i)}calculateTargetCalories(n,e){let i=Object.values(ue).find(o=>o.value===e)?.percentageModifier??0,s=n*i/100;return Math.round(n+s)}saveCalculation(n,e){localStorage.setItem("calorie_calculation",JSON.stringify({data:n,results:e}))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var st=class t{apiService=V(de);_caloriesResults=C(null);_isLoading=C(!1);caloriesResults=this._caloriesResults.asReadonly();isLoading=this._isLoading.asReadonly();fetchCalculateCalories(n){return this._isLoading.set(!0),this.apiService.calculateCalories(n).pipe(he(e=>this._caloriesResults.set(e)),ge(()=>{}),we(()=>this._isLoading.set(!1)))}fetchCaloriesResult(){return this.apiService.getCaloriesResult().pipe(he(n=>{n&&this._caloriesResults.set(n.results)}),ge(()=>{}))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};var at=class t{_currentStep=C(0);_basicData=C(null);_activityData=C(null);_hasDataChanges=C(!0);currentStep=this._currentStep.asReadonly();basicData=this._basicData.asReadonly();activityData=this._activityData.asReadonly();hasDataChanges=this._hasDataChanges.asReadonly();setCurrentStep(n){this._currentStep.set(n)}setBasicData(n){this._basicData.set(n),this._hasDataChanges.set(!1),this._currentStep.set(1)}setActivityData(n){this._activityData.set(n),this._hasDataChanges.set(!1)}markDataAsChanged(){this._hasDataChanges.set(!0)}resetForm(){this._currentStep.set(0),this._basicData.set(null),this._activityData.set(null),this._hasDataChanges.set(!0)}isActivityTabDisabled(){return!this._basicData()}isResultsTabDisabled(){return!this._basicData()||!this._activityData()}static \u0275fac=function(e){return new(e||t)};static \u0275prov=G({token:t,factory:t.\u0275fac,providedIn:"root"})};function Nt(t){let n=String(t),[e,r]=n.split("e-"),i=n;if(r){let[,s=""]=e?.split(".")??[],o=Number(r)+(s?.length||0);i=t.toFixed(o)}return i}function lt(t,n){let[,e=""]=Nt(t).split(".");return Ue(n)?e.slice(0,Math.max(0,n)):e}function ct(t,n={}){let{precision:e,decimalSeparator:r,thousandSeparator:i,decimalMode:s,rounding:o}=I(L(I({},se),{decimalMode:"always",precision:1/0}),n),l=Number.isFinite(e)?Be({value:t,precision:e,method:o}):t,a=String(Math.floor(Math.abs(l))),c=lt(l,e),u=Number(c)>0;if(Number.isFinite(e))if(s==="always"||u&&s==="pad"){let d=Math.max(e-c.length,0),y="0".repeat(d);c=`${c}${y}`}else c=c.replace(/0*$/,"");let m=a.length%3,g=(t<0?oe:"")+a.charAt(0);for(let d=1;d<a.length;d++)d%3===m&&a.length>3&&(g+=i),g+=a.charAt(d);return c?g+r+c:g}function U(t,n,e){let r=Math.min(Number(e),Math.max(Number(n),Number(t)));return t instanceof Date?new Date(r):r}var Mt=[".",",","\u0431","\u044E"];var Ae="\xA0",Rt="\u200B",It="\u2013",wt="\u2014",Ne="-",ft="\u2212",Pt="\u30FC";var Ln=new RegExp(`[${Ae}APM]+$`,"g"),Vn=new RegExp(`${Ae}[AP]M$`,"g"),Tt=[":","."];function W(t){return t}function Ot(){}var gt=/[\\^$.*+?()[\]{}|]/g,Lt=new RegExp(gt.source);function _(t){return t&&Lt.test(t)?t.replaceAll(gt,String.raw`\$&`):t}function A(t,{prefix:n,postfix:e}){var r,i;let s=new RegExp(`^${_(n)}`),o=new RegExp(`${_(e)}$`),[l=""]=(r=t.match(s))!==null&&r!==void 0?r:[],[a=""]=(i=t.match(o))!==null&&i!==void 0?i:[];return{extractedPrefix:l,extractedPostfix:a,cleanValue:l||a?t.slice(l.length,a.length?-a.length:1/0):t}}function Vt(t,n){let e="";for(let r=0;r<t.length;r++){if(t[r]!==n[r])return e;e+=t[r]}return e}function ut(t){return t.replaceAll(/[０-９]/g,n=>String.fromCharCode(n.charCodeAt(0)-65248))}function Ft(){return({elementState:t,data:n})=>{let{value:e,selection:r}=t;return{elementState:{selection:r,value:ut(e)},data:ut(n)}}}var Fn=new RegExp(`[${Tt.map(_).join("")}]$`);function $t(t){let n=new RegExp(`${_(t)}$`);return t?({value:e,selection:r},i)=>{if(!e&&!i.value.endsWith(t))return{value:e,selection:r};if(!e.endsWith(t)&&!i.value.endsWith(t))return{selection:r,value:e+t};let s=i.value.replace(n,""),o=i.selection[1]>s.length,l=Vt(s,e);return{selection:r,value:Array.from(t).reverse().reduce((a,c,u)=>{let m=a.length-1-u,p=l[m]===c&&o;return a[m]!==c||p?a.slice(0,m+1)+c+a.slice(m+1):a},e)}}:W}function kt(t){return t?({value:n,selection:e},r)=>{if(n.startsWith(t)||!n&&!r.value.startsWith(t))return{value:n,selection:e};let[i,s]=e,o=Array.from(t).reduce((a,c,u)=>a[u]===c?a:a.slice(0,u)+c+a.slice(u),n),l=o.length-n.length;return{selection:[i+l,s+l],value:o}}:W}function Me(t,n,e){return(r,i)=>{let s=()=>n(r,i);return r.addEventListener(t,s,e),()=>r.removeEventListener(t,s,e)}}function Gt(t){return(n,e)=>{let r=n.ownerDocument,i=0,s=()=>i++,o=()=>{i=Math.max(--i,0)},l=()=>{if(n.matches(":focus")){if(i)return r.addEventListener("mouseup",l,{once:!0,passive:!0});t(n,e)}};return r.addEventListener("selectionchange",l,{passive:!0}),n.addEventListener("focus",l,{passive:!0}),n.addEventListener("mousedown",s,{passive:!0}),r.addEventListener("mouseup",o,{passive:!0}),()=>{r.removeEventListener("selectionchange",l),n.removeEventListener("focus",l),n.removeEventListener("mousedown",s),r.removeEventListener("mouseup",o)}}}function ht(t){return Gt(n=>{var e,r;let i=(e=n.selectionStart)!==null&&e!==void 0?e:0,s=(r=n.selectionEnd)!==null&&r!==void 0?r:0,[o,l]=t(n.value,[i,s]);(o>i||l<s)&&n.setSelectionRange(U(i,o,l),U(s,o,l))})}var $n=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});function jt({prefix:t,postfix:n}){return({elementState:e,data:r})=>{let{cleanValue:i}=A(r,{prefix:t,postfix:n});return{elementState:e,data:i}}}function vt({decimalPseudoSeparators:t,decimalSeparator:n,maximumFractionDigits:e,min:r,minusSign:i,postfix:s,prefix:o,pseudoMinuses:l,thousandSeparator:a}){let c=r<0&&[i,...l].includes(o)?"":dt(o),u=String.raw`\d`,m=r<0?`[${i}${l.map(x=>`\\${x}`).join("")}]?`:"",p=a?`[${u}${_(a).replaceAll(/\s/g,String.raw`\s`)}]*`:`[${u}]*`,g=Number.isFinite(e)?e:"",d=e>0?`([${_(n)}${t.map(_).join("")}]${u}{0,${g}})?`:"",y=dt(s);return new RegExp(`^${c}${m}${p}${d}${y}$`)}function dt(t){return t?`${t.split("").map(n=>`${_(n)}?`).join("")}`:""}function X(t,n={}){let{decimalSeparator:e=".",minusSign:r=""}=typeof n=="string"?{decimalSeparator:n}:n,i=!!new RegExp(`^\\D*[${_(r)}\\${_t.join("\\")}]`).exec(t),s=_(e),o=t.replaceAll(new RegExp(`${s}(?!\\d)`,"g"),"").replaceAll(new RegExp(`[^\\d${s}]`,"g"),"").replace(e,e&&".");return o?+`${i?Ne:""}${o}`:NaN}function Bt(t){var n;let e=String(t),[r="",i]=e.split("e-"),s=e;if(i){let[,o]=r.split("."),l=Number(i)+((n=o?.length)!==null&&n!==void 0?n:0);s=t.toFixed(l)}return s}function bt(t,{decimalSeparator:n,minusSign:e}){let[r="",i=""]=n?t.split(n):[t],s=_(e),[,o="",l=""]=new RegExp(`^(?:[^\\d${s}])?(${s})?(.*)`).exec(r)||[];return{minus:o,integerPart:l,decimalPart:i}}function Ht({decimalSeparator:t,thousandSeparator:n,decimalPseudoSeparators:e=Mt}){return e.filter(r=>r!==n&&r!==t)}function Ut({decimalSeparator:t,minimumFractionDigits:n,prefix:e,postfix:r,minusSign:i}){return n?({value:s,selection:o})=>{let{cleanValue:l,extractedPrefix:a,extractedPostfix:c}=A(s,{prefix:e,postfix:r});if(Number.isNaN(X(l,{decimalSeparator:t,minusSign:i})))return{value:s,selection:o};let[u,m=""]=l.split(t);return{value:a+u+t+m.padEnd(n,"0")+c,selection:o}}:W}function Wt({prefix:t,postfix:n,decimalSeparator:e,minusSign:r}){return({value:i,selection:s})=>{let[o]=s,{cleanValue:l,extractedPrefix:a,extractedPostfix:c}=A(i,{prefix:t,postfix:n}),{minus:u,integerPart:m,decimalPart:p}=bt(l,{decimalSeparator:e,minusSign:r}),g=!m&&!p&&!!e&&l.includes(e);return!m&&!Number(p)&&o===(u+a).length||g?{selection:s,value:a+u+c}:{value:i,selection:s}}}function zt({decimalPseudoSeparators:t,decimalSeparator:n,minusSign:e,postfix:r,prefix:i,pseudoMinuses:s}){let o=!0,l=vt({decimalSeparator:n,decimalPseudoSeparators:t,pseudoMinuses:s,prefix:"",postfix:"",thousandSeparator:"",maximumFractionDigits:1/0,min:Number.MIN_SAFE_INTEGER,minusSign:e});return({elementState:a,data:c})=>{if(!o)return{elementState:a,data:c};o=!1;let{value:u,selection:m}=a,[p,g]=m,{extractedPrefix:d,cleanValue:y,extractedPostfix:x}=A(u,{prefix:i,postfix:r}),M=Z({selection:[Math.max(p-d.length,0),U(g-d.length,0,y.length)],value:y},{mask:l}),[$,R]=M.selection;return{elementState:{selection:[$+d.length,R+d.length],value:d+M.value+x},data:c}}}function Yt({decimalSeparator:t,thousandSeparator:n,prefix:e,postfix:r}){let i=o=>{let l=_(n);return o.replace(new RegExp(`^(\\D+)?[0${l}]+(?=0)`),"$1").replace(new RegExp(`^(\\D+)?[0${l}]+(?=[1-9])`),"$1")},s=(o,l)=>{let a=o.slice(0,l),c=o.slice(l).startsWith("0");return a.length-i(a).length+(c?1:0)};return({value:o,selection:l})=>{let[a,c]=l,{cleanValue:u,extractedPrefix:m,extractedPostfix:p}=A(o,{prefix:e,postfix:r}),g=!!t&&u.includes(t),[d="",y=""]=t?u.split(t):[u],x=i(d);if(d===x)return{value:o,selection:l};let M=a-s(o,a),$=c-s(o,c);return{value:m+x+(g?t:"")+y+p,selection:[Math.max(M,0),Math.max($,0)]}}}function qt({min:t,max:n,decimalSeparator:e,minusSign:r}){return({value:i,selection:s})=>{let o=X(i,{decimalSeparator:e,minusSign:r}),l=o>0?Math.min(o,n):Math.max(o,t);if(o&&l!==o){let a=`${l}`.replace(".",e).replace(Ne,r);return{value:a,selection:[a.length,a.length]}}return{value:i,selection:s}}}function Zt({decimalSeparator:t,thousandSeparator:n,minimumFractionDigits:e}){return({elementState:r,data:i},s)=>{let{value:o,selection:l}=r,[a,c]=l,u=o.slice(a,c),m=e?[t,n]:[n],p=!!e&&a>o.indexOf(t)&&!!u.match(/^0+$/gi);return s!=="deleteBackward"&&s!=="deleteForward"||!m.includes(u)&&!p?{elementState:r,data:i}:{elementState:{value:o,selection:s==="deleteForward"?[c,c]:[a,a]},data:i}}}function Xt({decimalSeparator:t,maximumFractionDigits:n,prefix:e,postfix:r}){let i=new RegExp(`^\\D*${_(t)}`);return({elementState:s,data:o})=>{let{value:l,selection:a}=s,{cleanValue:c,extractedPrefix:u}=A(l,{prefix:e,postfix:r}),[m,p]=a,g=U(m-u.length,0,c.length),d=U(p-u.length,0,c.length);if(n<=0||c.slice(0,g).includes(t)||c.slice(d).includes(t)||!o.match(i))return{elementState:s,data:o};let y=/\d+/.exec(c.slice(0,g));return{elementState:s,data:y?o:`0${o}`}}}function mt({validCharacter:t,pseudoCharacters:n,prefix:e,postfix:r}){let i=new RegExp(`[${n.join("")}]`,"gi");return({elementState:s,data:o})=>{let{value:l,selection:a}=s,{cleanValue:c,extractedPostfix:u,extractedPrefix:m}=A(l,{prefix:e,postfix:r});return{elementState:{selection:a,value:m+c.replace(i,t)+u},data:o.replace(i,t)}}}function Jt({decimalSeparator:t,prefix:n,postfix:e}){return t?({elementState:r,data:i})=>{let{value:s,selection:o}=r,[l,a]=o,{cleanValue:c}=A(s,{prefix:n,postfix:e});return{elementState:r,data:!c.includes(t)||s.slice(l,a+1).includes(t)?i:i.replaceAll(new RegExp(_(t),"gi"),"")}}:W}function Kt({thousandSeparator:t,decimalSeparator:n,prefix:e,postfix:r,minusSign:i}){if(!t)return W;let s=(...o)=>o.every(l=>/\s/.test(l));return({value:o,selection:l})=>{let[a,c]=l,[u,m]=l,{cleanValue:p,extractedPostfix:g,extractedPrefix:d}=A(o,{prefix:e,postfix:r}),{minus:y,integerPart:x,decimalPart:M}=bt(p,{decimalSeparator:n,minusSign:i}),$=n&&p.includes(n),R=p.length-(y+x+($?n+M:"")).length;R>0&&a&&a<=R&&(u-=R),R>0&&c&&c<=R&&(m-=R);let At=Array.from(x).reduceRight((k,z,O)=>{let me=!(!O&&z===t)&&!!k.length&&(k.length+1)%4===0,Ie=z===t||s(z,t);return me&&Ie?t+k:!me&&Ie?(O&&O<=a&&u--,O&&O<=c&&m--,k):me?(O<a&&u++,O<c&&m++,z+t+k):z+k},"");return{value:d+y+At+($?n:"")+M+g,selection:[u,m]}}}function Qt({maximumFractionDigits:t,decimalSeparator:n,prefix:e,postfix:r}){if(t>0||!n)return W;let i=new RegExp(`${_(n)}.*$`,"g");return({elementState:s,data:o})=>{let{value:l,selection:a}=s,{cleanValue:c,extractedPrefix:u,extractedPostfix:m}=A(l,{prefix:e,postfix:r}),[p,g]=a,d=u+c.replace(i,"")+m;return{elementState:{selection:[Math.min(p,d.length),Math.min(g,d.length)],value:d},data:o.replace(i,"")}}}var pt=[0,0];function en({decimalSeparator:t,thousandSeparator:n,prefix:e,postfix:r}){let i=Yt({decimalSeparator:t,thousandSeparator:n,prefix:e,postfix:r});return Me("blur",s=>{let o=i({value:s.value,selection:pt},{value:"",selection:pt}).value;ae(s,o)},{capture:!0})}function tn({min:t,max:n,decimalSeparator:e,minusSign:r}){return Me("blur",(i,s)=>{let o=X(i.value,{decimalSeparator:e,minusSign:r}),l=U(o,t,n);!Number.isNaN(o)&&o!==l&&ae(i,Z(Bt(l),s))},{capture:!0})}function nn({decimalSeparator:t,prefix:n,postfix:e}){return t?Me("blur",r=>{let{cleanValue:i,extractedPostfix:s,extractedPrefix:o}=A(r.value,{prefix:n,postfix:e}),l=o+i.replace(new RegExp(`^(\\D+)?${_(t)}`),`$10${t}`)+s;ae(r,l)},{capture:!0}):Ot}var _t=[Ne,It,wt,Pt,ft];function Re({max:t=Number.MAX_SAFE_INTEGER,min:n=Number.MIN_SAFE_INTEGER,precision:e=0,thousandSeparator:r=Ae,decimalSeparator:i=".",decimalPseudoSeparators:s,decimalZeroPadding:o=!1,prefix:l="",postfix:a="",minusSign:c=ft,maximumFractionDigits:u=e,minimumFractionDigits:m=o?u:0}={}){let p=_t.filter(x=>x!==r&&x!==i&&x!==c),g=Ht({decimalSeparator:i,thousandSeparator:r,decimalPseudoSeparators:s}),d=l.endsWith(i)&&u>0?`${l}${Rt}`:l,y=zt({decimalSeparator:i,decimalPseudoSeparators:g,pseudoMinuses:p,prefix:d,postfix:a,minusSign:c});return i=u<=0&&i===r?"":i,Object.assign(Object.assign({},nt),{mask:vt({decimalSeparator:i,maximumFractionDigits:u,min:n,minusSign:c,postfix:a,prefix:d,pseudoMinuses:p,thousandSeparator:r,decimalPseudoSeparators:g}),preprocessors:[Ft(),y,jt({prefix:d,postfix:a}),mt({validCharacter:c,pseudoCharacters:p,prefix:d,postfix:a}),mt({validCharacter:i,pseudoCharacters:g,prefix:d,postfix:a}),Xt({decimalSeparator:i,maximumFractionDigits:u,prefix:d,postfix:a}),Zt({decimalSeparator:i,minimumFractionDigits:m,thousandSeparator:r}),Qt({maximumFractionDigits:u,decimalSeparator:i,prefix:d,postfix:a}),Jt({decimalSeparator:i,prefix:d,postfix:a})],postprocessors:[qt({decimalSeparator:i,min:n,max:t,minusSign:c}),kt(d),$t(a),Kt({decimalSeparator:i,thousandSeparator:r,prefix:d,postfix:a,minusSign:c}),Ut({decimalSeparator:i,prefix:d,postfix:a,minusSign:c,minimumFractionDigits:Math.min(m,u)}),Wt({prefix:d,postfix:a,decimalSeparator:i,minusSign:c})],plugins:[en({decimalSeparator:i,thousandSeparator:r,prefix:d,postfix:a}),nn({decimalSeparator:i,prefix:d,postfix:a}),tn({min:n,max:t,decimalSeparator:i,minusSign:c})],overwriteMode:m>0?({value:x,selection:[M]})=>M<=x.indexOf(i)?"shift":"replace":"shift"})}var rn={min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,prefix:"",postfix:"",step:0,icons:{increase:"@tui.plus",decrease:"@tui.minus"},valueTransformer:null},[yt,vi]=ze(rn),on=18,xt=(()=>{class t extends Xe{constructor(){super(...arguments),this.options=V(yt),this.textfield=V(Qe),this.isIOS=V(qe),this.minRaw=C(this.options.min),this.maxRaw=C(this.options.max),this.numberFormat=He(V(Ye),{initialValue:se}),this.formatted=E(()=>X(this.textfield.value(),this.numberFormat())),this.precision=E((e=this.numberFormat().precision)=>Number.isNaN(e)?2:e),this.unfinished=E((e=this.formatted())=>e<0?e>this.max():e<this.min()),this.element=We(),this.mask=rt(E(()=>this.computeMask(this.maskParams))),this.inputMode=E(()=>this.isIOS?this.min()<0?"text":"decimal":"numeric"),this.defaultMaxLength=E(()=>{let{decimalSeparator:e,thousandSeparator:r}=this.numberFormat(),s=!!this.precision()&&this.textfield.value().includes(e)?Math.min(this.precision()+1,20):0,o=r.repeat(5).length;return on+s+o}),this.onChangeEffect=Ee(()=>{let e=this.formatted();if(Number.isNaN(e)){this.onChange(null);return}this.unfinished()||e<this.min()||e>this.max()||this.value()===e||this.onChange(e)},Se),this.maskInitialCalibrationEffect=Ee(()=>{let e=Re(L(I({},this.maskParams),{min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER}));this.textfield.value.update(r=>Z(r,e))},Se),this.min=E(()=>Math.min(this.minRaw(),this.maxRaw())),this.max=E(()=>Math.max(this.minRaw(),this.maxRaw())),this.prefix=C(this.options.prefix),this.postfix=C(this.options.postfix)}set minSetter(e){this.minRaw.set(this.transformer.fromControlValue(e??this.options.min))}set maxSetter(e){this.maxRaw.set(this.transformer.fromControlValue(e??this.options.max))}set prefixSetter(e){this.prefix.set(e)}set postfixSetter(e){this.postfix.set(e)}writeValue(e){let r=this.control.pristine&&this.control.untouched&&!e;(De(()=>e!==this.value())||r)&&(super.writeValue(e),De(()=>this.setValue(this.value())))}setValue(e){this.textfield.value.set(this.formatNumber(e))}onFocus(){Number.isNaN(this.formatted())&&!this.readOnly()&&this.textfield.value.set(this.prefix()+this.postfix())}get maskParams(){let s=this.numberFormat(),{decimalMode:e}=s,r=pe(s,["decimalMode"]),i=this.precision();return L(I({},r),{maximumFractionDigits:i,min:this.min(),max:this.max(),prefix:this.prefix(),postfix:this.postfix(),minimumFractionDigits:e==="always"?i:0})}formatNumber(e){return e===null||Number.isNaN(e)?"":(this.prefix()!==Ce?this.prefix():"")+ct(e,L(I({},this.numberFormat()),{precision:je(e,this.precision())?this.precision():1/0})).replace(oe,Ce)+this.postfix()}computeMask(e){let{prefix:r="",postfix:i=""}=e,l=Re(e),{plugins:s}=l,o=pe(l,["plugins"]);return L(I({},o),{plugins:[...s,ht(a=>[r.length,a.length-i.length])]})}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Pe(t)))(i||t)}})()}static{this.\u0275dir=Te({type:t,selectors:[["input","tuiInputNumber",""]],hostVars:3,hostBindings:function(r,i){r&1&&P("blur",function(){return i.setValue(i.transformer.fromControlValue(i.control.value))})("focus",function(){return i.onFocus()}),r&2&&($e("disabled",i.disabled()),Ve("inputMode",i.inputMode())("maxLength",i.element.maxLength>0?i.element.maxLength:i.defaultMaxLength()))},inputs:{minSetter:[0,"min","minSetter"],maxSetter:[0,"max","maxSetter"],prefixSetter:[0,"prefix","prefixSetter"],postfixSetter:[0,"postfix","postfixSetter"]},features:[ke([Je(t),Ze(yt)]),Le([et,it]),Oe]})}}return t})();var Dt=class t{initialData=j(null);dataSubmitted=w();dataChanged=w();activityLevelOptions=E(()=>q(ce));goalOptions=E(()=>q(ue));form=new Q({activityLevel:new T(null,[S.required]),goal:new T(null,[S.required])});constructor(){this.form.valueChanges.pipe(Y()).subscribe(()=>{this.dataChanged.emit()})}ngOnInit(){let n=this.initialData();n&&this.form.patchValue(n)}onSubmit(){this.form.valid&&this.dataSubmitted.emit(this.form.getRawValue())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-activity-goal-form"]],inputs:{initialData:[1,"initialData"]},outputs:{dataSubmitted:"dataSubmitted",dataChanged:"dataChanged"},decls:8,vars:10,consts:[[1,"activity-goal-form",3,"ngSubmit","formGroup"],[1,"activity-goal-form__field"],["formControlName","activityLevel",3,"options","label","placeholder","required"],["formControlName","goal",3,"options","label","placeholder","required"],[1,"activity-goal-form__actions"],["tuiButton","","type","submit","appearance","primary",3,"disabled"]],template:function(e,r){e&1&&(f(0,"form",0),P("ngSubmit",function(){return r.onSubmit()}),f(1,"div",1),N(2,"app-select-field",2),h(),f(3,"div",1),N(4,"app-select-field",3),h(),f(5,"div",4)(6,"button",5),D(7," Calculate Calories "),h()()()),e&2&&(v("formGroup",r.form),b(2),v("options",r.activityLevelOptions())("label","Activity Level")("placeholder","Select activity level")("required",!0),b(2),v("options",r.goalOptions())("label","Goal")("placeholder","Select goal")("required",!0),b(2),v("disabled",r.form.invalid))},dependencies:[re,ee,J,K,ie,te,ne,B,le],styles:[".activity-goal-form[_ngcontent-%COMP%]{display:grid;gap:var(--space-lg)}.activity-goal-form__field[_ngcontent-%COMP%]{display:grid;gap:var(--space-sm)}.activity-goal-form__field-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--color-text)}.activity-goal-form__option[_ngcontent-%COMP%]{display:grid;gap:var(--space-xs)}.activity-goal-form__option-label[_ngcontent-%COMP%]{font-weight:600;color:var(--color-text)}.activity-goal-form__option-description[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.4;color:var(--color-muted)}.activity-goal-form__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:var(--space-md)}"],changeDetection:0})};function an(t,n){if(t&1){let e=ye();f(0,"div",2)(1,"h2",3),D(2,"Your Calorie Results"),h(),f(3,"p",4),D(4,"Based on Mifflin-St Jeor formula"),h()(),f(5,"div",5),N(6,"app-result-item",6)(7,"app-result-item",7)(8,"app-result-item",8),h(),f(9,"div",9)(10,"button",10),P("click",function(){ve(e);let i=xe();return be(i.onRecalculate())}),D(11," Calculate Again "),h()()}if(t&2){let e=n;b(6),v("value",e.bmr+" kcal/day"),b(),v("value",e.tdee+" kcal/day"),b(),v("value",e.targetCalories+" kcal/day")("isHighlighted",!0)}}function ln(t,n){t&1&&(f(0,"div",1)(1,"div",11),D(2,"\u{1F4CA}"),h(),f(3,"h3",12),D(4,"No Results Yet"),h(),f(5,"p",13),D(6," Complete the previous steps to see your calorie calculations "),h()())}var St=class t{results=j(null);recalculate=w();onRecalculate(){this.recalculate.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-results-display"]],inputs:{results:[1,"results"]},outputs:{recalculate:"recalculate"},decls:3,vars:1,consts:[[1,"results-display"],[1,"results-display__empty"],[1,"results-display__header"],[1,"results-display__header-title"],[1,"results-display__header-subtitle"],[1,"results-display__content"],["label","BMR (Basal Metabolic Rate)","description","Calories your body needs at rest",3,"value"],["label","TDEE (Total Daily Energy Expenditure)","description","Total calories needed with activity level",3,"value"],["label","Target Calories","description","Recommended daily calorie intake for your goal",3,"value","isHighlighted"],[1,"results-display__actions"],["tuiButton","","appearance","secondary",3,"click"],[1,"results-display__empty-icon"],[1,"results-display__empty-title"],[1,"results-display__empty-description"]],template:function(e,r){if(e&1&&(f(0,"div",0),_e(1,an,12,4)(2,ln,7,0,"div",1),h()),e&2){let i;b(),Fe((i=r.results())?1:2,i)}},dependencies:[B,tt],styles:[".results-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-lg)}.results-display__header[_ngcontent-%COMP%]{text-align:center}.results-display__header-title[_ngcontent-%COMP%]{margin:0 0 var(--space-xs) 0;font-size:1.5rem;font-weight:600;color:var(--color-text-primary)}.results-display__header-subtitle[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:var(--color-text-secondary)}.results-display__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.results-display__actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:var(--space-md)}.results-display__empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md);align-items:center;padding:var(--space-xl) var(--space-lg);text-align:center}.results-display__empty-icon[_ngcontent-%COMP%]{font-size:3rem;opacity:.6}.results-display__empty-title[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600;color:var(--color-text-primary)}.results-display__empty-description[_ngcontent-%COMP%]{max-width:300px;margin:0;font-size:.875rem;line-height:1.5;color:var(--color-text-secondary)}"],changeDetection:0})};var Ct=class t{initialData=j(null);dataSubmitted=w();dataChanged=w();genderOptions=E(()=>q(ot));form=new Q({gender:new T(null,[S.required]),age:new T(null,[S.required,S.min(10),S.max(120)]),height:new T(null,[S.required,S.min(100),S.max(250)]),weight:new T(null,[S.required,S.min(30),S.max(300)])});constructor(){this.form.valueChanges.pipe(Y()).subscribe(()=>{this.dataChanged.emit()})}ngOnInit(){let n=this.initialData();n&&this.form.patchValue(n)}onSubmit(){this.form.valid&&this.dataSubmitted.emit(this.form.getRawValue())}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=F({type:t,selectors:[["app-basic-data-form"]],inputs:{initialData:[1,"initialData"]},outputs:{dataSubmitted:"dataSubmitted",dataChanged:"dataChanged"},decls:21,vars:12,consts:[[1,"basic-data-form",3,"ngSubmit","formGroup"],[1,"basic-data-form__field"],["formControlName","gender",3,"options","label","placeholder","required"],["for","age",1,"basic-data-form__field-label"],["tuiInputNumber","","id","age","formControlName","age","placeholder","Enter age",3,"min","max"],["for","height",1,"basic-data-form__field-label"],["tuiInputNumber","","id","height","formControlName","height","placeholder","Enter height",3,"min","max"],["for","weight",1,"basic-data-form__field-label"],["tuiInputNumber","","id","weight","formControlName","weight","placeholder","Enter weight",3,"min","max"],[1,"basic-data-form__actions"],["tuiButton","","type","submit","appearance","primary",3,"disabled"]],template:function(e,r){e&1&&(f(0,"form",0),P("ngSubmit",function(){return r.onSubmit()}),f(1,"div",1),N(2,"app-select-field",2),h(),f(3,"div",1)(4,"label",3),D(5,"Age"),h(),f(6,"tui-textfield"),N(7,"input",4),h()(),f(8,"div",1)(9,"label",5),D(10,"Height (cm)"),h(),f(11,"tui-textfield"),N(12,"input",6),h()(),f(13,"div",1)(14,"label",7),D(15,"Weight (kg)"),h(),f(16,"tui-textfield"),N(17,"input",8),h()(),f(18,"div",9)(19,"button",10),D(20," Continue "),h()()()),e&2&&(v("formGroup",r.form),b(2),v("options",r.genderOptions())("label","Gender")("placeholder","Select gender")("required",!0),b(5),v("min",10)("max",120),b(5),v("min",100)("max",250),b(5),v("min",30)("max",300),b(2),v("disabled",r.form.invalid))},dependencies:[re,ee,Ge,J,K,ie,te,ne,B,xt,Ke,le],styles:[".basic-data-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-md)}.basic-data-form__field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-xs)}.basic-data-form__field-label[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text-primary)}.basic-data-form__actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:var(--space-lg)}"],changeDetection:0})};export{st as a,at as b,Ct as c,Dt as d,St as e};
