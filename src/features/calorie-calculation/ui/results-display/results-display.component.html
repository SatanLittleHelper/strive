<div class="results-display">
  @if (results(); as results) {
    <div class="results-display__header">
      <h2 class="results-display__header-title">Your Calorie Results</h2>
      <p class="results-display__header-subtitle">Based on Mifflin-St Jeor formula</p>
    </div>

    <div class="results-display__content">
      <app-result-item
        label="BMR (Basal Metabolic Rate)"
        [value]="results.bmr + ' kcal/day'"
        description="Calories your body needs at rest"
      />

      <app-result-item
        label="TDEE (Total Daily Energy Expenditure)"
        [value]="results.tdee + ' kcal/day'"
        description="Total calories needed with activity level"
      />

      <app-result-item
        label="Target Calories"
        [value]="results.targetCalories + ' kcal/day'"
        description="Recommended daily calorie intake for your goal"
        [isHighlighted]="true"
      />
    </div>

    @if (results.macros) {
      <div class="results-display__macros">
        <h3 class="results-display__macros-title">Macronutrients</h3>
        <div class="results-display__macros-content">
          <app-result-item
            label="Protein"
            [value]="results.macros.proteinGrams + 'g'"
            [description]="getMacroCalories(results.macros, 'proteinGrams') + ' kcal'"
          />

          <app-result-item
            label="Fat"
            [value]="results.macros.fatGrams + 'g'"
            [description]="getMacroCalories(results.macros, 'fatGrams') + ' kcal'"
          />

          <app-result-item
            label="Carbohydrates"
            [value]="results.macros.carbsGrams + 'g'"
            [description]="getMacroCalories(results.macros, 'carbsGrams') + ' kcal'"
          />
        </div>
      </div>
    }

    <div class="results-display__actions">
      <button
        tuiButton
        appearance="secondary"
        (click)="onRecalculate()"
      >
        Calculate Again
      </button>
    </div>
  } @else {
    <div class="results-display__empty">
      <div class="results-display__empty-icon">ðŸ“Š</div>
      <h3 class="results-display__empty-title">No Results Yet</h3>
      <p class="results-display__empty-description">
        Complete the previous steps to see your calorie calculations
      </p>
    </div>
  }
</div>
